package query

import "testing"

func TestLeaguesQuery(t *testing.T) {
	testQueries(t,
		[]testQueryPair{
			{
				Leagues(),
				"/leagues",
			},
			{
				Leagues().Keys([]string{"nba.l.12345", "nba.l.67890"}),
				"/leagues;league_keys=nba.l.12345,nba.l.67890",
			},
			{
				Leagues().Key("nba.l.12345"),
				"/leagues;league_keys=nba.l.12345",
			},
			{
				Leagues().Key("nba.l.12345").Key("nba.l.67890"),
				"/leagues;league_keys=nba.l.67890",
			},
			{
				Leagues().Key("nba.l.12345").Settings(),
				"/leagues;league_keys=nba.l.12345/settings",
			},
			{
				Leagues().Key("nba.l.12345").CurrentScoreboard(),
				"/leagues;league_keys=nba.l.12345/scoreboard",
			},
			{
				Leagues().Key("nba.l.12345").Scoreboard(1),
				"/leagues;league_keys=nba.l.12345/scoreboard;week=1",
			},
			{
				Leagues().Key("nba.l.12345").Standings(),
				"/leagues;league_keys=nba.l.12345/standings",
			},
			{
				Leagues().Key("nba.l.12345").Standings().CurrentScoreboard(),
				"/leagues;league_keys=nba.l.12345;out=standings,scoreboard",
			},
			{
				Leagues().Key("nba.l.12345").Teams(),
				"/leagues;league_keys=nba.l.12345/teams",
			},
			{
				Leagues().Key("nba.l.12345").Player().Key("253.p.7569"),
				"/leagues;league_keys=nba.l.12345/player/253.p.7569",
			},
			{
				Leagues().Key("nba.l.12345").Players(),
				"/leagues;league_keys=nba.l.12345/players",
			},
		})
}

func TestLeagueQuery(t *testing.T) {
	testQueries(t,
		[]testQueryPair{
			{
				League(),
				"/league",
			},
			{
				League().Key("nba.l.12345"),
				"/league/nba.l.12345",
			},
			{
				League().Key("nba.l.12345").Settings(),
				"/league/nba.l.12345/settings",
			},
			{
				League().Key("nba.l.12345").CurrentScoreboard(),
				"/league/nba.l.12345/scoreboard",
			},
			{
				League().Key("nba.l.12345").Scoreboard(1),
				"/league/nba.l.12345/scoreboard;week=1",
			},
			{
				League().Key("nba.l.12345").Standings(),
				"/league/nba.l.12345/standings",
			},
			{
				League().Key("nba.l.12345").Standings().CurrentScoreboard(),
				"/league/nba.l.12345;out=standings,scoreboard",
			},
			{
				League().Key("nba.l.12345").Teams(),
				"/league/nba.l.12345/teams",
			},
			{
				League().Key("nba.l.12345").Player().Key("253.p.7569"),
				"/league/nba.l.12345/player/253.p.7569",
			},
			{
				League().Key("nba.l.12345").Players(),
				"/league/nba.l.12345/players",
			},
		})
}
